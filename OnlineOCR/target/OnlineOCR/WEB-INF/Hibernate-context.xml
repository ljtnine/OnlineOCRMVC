<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

       <context:property-placeholder location="/WEB-INF/OCR.properties" />

       <!-- Enable annotation style of managing transactions -->
       <tx:annotation-driven transaction-manager="transactionManager" />

       <!-- Declare the Hibernate SessionFactory for retrieving Hibernate sessions -->
       <!-- See http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/orm/hibernate3/annotation/AnnotationSessionFactoryBean.html -->
       <!-- See http://docs.jboss.org/hibernate/stable/core/api/index.html?org/hibernate/SessionFactory.html -->
       <!-- See http://docs.jboss.org/hibernate/stable/core/api/index.html?org/hibernate/Session.html -->
       <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
           <property name="dataSource" ref="dataSource"/>
           <property name="configLocation" value="${ocr.hibernate.config}"/>
           <property name="packagesToScan" value="com.onlineocr.nick"/>
       </bean>


       <!-- Declare a datasource that has pooling capabilities-->
       <bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
           <property name="driverClass" value="${ocr.jdbc.driverClassName}"/>
           <property name="jdbcUrl" value="${ocr.jdbc.url}"/>
           <property name="user" value="${ocr.jdbc.username}"/>
           <property name="password" value="${ocr.jdbc.password}"/>
           <property name="acquireIncrement" value="5"/>
           <property name="idleConnectionTestPeriod" value="60"/>
           <property name="maxPoolSize" value="100"/>
           <property name="maxStatements" value="50"/>
           <property name="minPoolSize" value="10"/>
       </bean>

       <!-- Declare a transaction manager-->
       <bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager">
           <property name="sessionFactory" ref="sessionFactory"/>
       </bean>
</beans>